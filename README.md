# AutoPM - Autonomous Process Mining Agent

AutoPM ‚Äî —ç—Ç–æ **–∞–≥–µ–Ω—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –∂–µ—Å—Ç–∫–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤, AutoPM –≤–µ–¥–µ—Ç –¥–∏–∞–ª–æ–≥, –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç, –ø–∏—à–µ—Ç –∏ –∏—Å–ø–æ–ª–Ω—è–µ—Ç Python-–∫–æ–¥ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ —Å–≤–æ–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤.

## üöÄ –ö–ª—é—á–µ–≤—ã–µ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (Feature Set)

### üß† –ö–æ–≥–Ω–∏—Ç–∏–≤–Ω–æ–µ –Ø–¥—Ä–æ (Agentic Core)
*   **Proactive Router**: –ê–≥–µ–Ω—Ç —Å–∞–º —Ä–µ—à–∞–µ—Ç, –∫–∞–∫–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å. –î–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ (—á–∞—Å—Ç–æ—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏–π) –æ–Ω –±–µ—Ä–µ—Ç –≥–æ—Ç–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∞ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö (–º–µ–¥–∏–∞–Ω–∞, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —É—Å–ª–æ–≤–∏—é) ‚Äî **—Å—Ä–∞–∑—É –ø–∏—à–µ—Ç Python-–∫–æ–¥**.
*   **Long-Term Memory**: –ê–≥–µ–Ω—Ç "–ø–æ–º–Ω–∏—Ç" –≤–µ—Å—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–∏–∞–ª–æ–≥–∞. –í—ã –º–æ–∂–µ—Ç–µ —Å–ø—Ä–æ—Å–∏—Ç—å *"–ê –ø–æ—á–µ–º—É –∑–¥–µ—Å—å —Ü–∏—Ñ—Ä–∞ —Ç–∞–∫–∞—è?"*, –∏ –æ–Ω –ø–æ–π–º–µ—Ç, —á—Ç–æ —Ä–µ—á—å –∏–¥–µ—Ç –æ —Ç–∞–±–ª–∏—Ü–µ –∏–∑ –ø—Ä–æ—à–ª–æ–≥–æ –æ—Ç–≤–µ—Ç–∞.
*   **Robust Verification**: –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π "–°—É–¥—å—è" –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –æ—Ç–≤–µ—Ç—ã. –ï—Å–ª–∏ –æ—Ç–≤–µ—Ç –≤–µ—Ä–µ–Ω –ø–æ —Å—É—Ç–∏, –Ω–æ –Ω–µ –∏–¥–µ–∞–ª–µ–Ω –ø–æ —Ñ–æ—Ä–º–µ, –∞–≥–µ–Ω—Ç –ø–æ–∫–∞–∂–µ—Ç –µ–≥–æ —Å –ø–æ–º–µ—Ç–∫–æ–π "Partial Success", –≤–º–µ—Å—Ç–æ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö –ø–µ—Ä–µ–¥–µ–ª–æ–∫.

### üêç Code Interpreter & Sandbox
*   **Dynamic Code Generation**: –î–ª—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –º–µ–Ω—é, –∞–≥–µ–Ω—Ç –ø–∏—à–µ—Ç Pandas-–∫–æ–¥ –Ω–∞ –ª–µ—Ç—É.
*   **Safe Executor**: –ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–æ (–∑–∞–ø—Ä–µ—â–µ–Ω –¥–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ –≤–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞, —Å–µ—Ç–∏ –∏ —Å–∏—Å—Ç–µ–º–Ω—ã–º –≤—ã–∑–æ–≤–∞–º).
*   **Smart Fallback**: –ï—Å–ª–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –Ω–µ —Å–ø—Ä–∞–≤–∏–ª—Å—è, –∞–≥–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –∫–æ–¥–∞.

### üìä –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ü–∞–π–ø–ª–∞–π–Ω (–ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ)
–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –¥–∏–∞–ª–æ–≥–∞ —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–æ–¥–∏—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –∞–Ω–∞–ª–∏–∑–∞:
1.  **–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ** (Data Profiling).
2.  **–û—á–∏—Å—Ç–∫–∞** (Data Cleaning + Auto-Outlier Removal).
3.  **Process Discovery** (–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã –ø—Ä–æ—Ü–µ—Å—Å–∞ —á–µ—Ä–µ–∑ PM4Py).
4.  **–ê–Ω–∞–ª–∏–∑ –ê–Ω–æ–º–∞–ª–∏–π** (–ü–æ–∏—Å–∫ —É–∑–∫–∏—Ö –º–µ—Å—Ç –∏ —Ä–µ–¥–∫–∏—Ö –ø—É—Ç–µ–π).
5.  **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –û—Ç—á–µ—Ç–∞** (Markdown + –ì—Ä–∞—Ñ–∏–∫–∏).

---

## üö¶ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
git clone <repository_url>
cd AutoPM
pip install -r requirements.txt
```

### 2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
–°–æ–∑–¥–∞–π—Ç–µ `config.json` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
```json
{
    "api_key_LANGCHAIN_mistral": "–í–ê–®_API_–ö–õ–Æ–ß",
    "model_LANGCHAIN_mistral": "mistral-small-latest",
    "llm_backend": 2
}
```

### 3. –ó–∞–ø—É—Å–∫
```bash
python pm_agent/main.py --file "data/logs.csv"
```
–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞, **—Å–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–π–¥–µ—Ç –≤ —Ä–µ–∂–∏–º —á–∞—Ç–∞**. –í—ã –º–æ–∂–µ—Ç–µ —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å:
*   *"–ü–æ–∫–∞–∂–∏ 25-–π –ø–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏ –ø—É—Ç—å"*
*   *"–ö–∞–∫–∞—è —Å—Ä–µ–¥–Ω—è—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–µ–π—Å–æ–≤, –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö—Å—è —Å 'Start'?"*
*   *"–ù–∞–π–¥–∏ –∞–Ω–æ–º–∞–ª–∏–∏ –≤ –æ—Ç–¥–µ–ª–µ –ø—Ä–æ–¥–∞–∂"*

---

## üõ† –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```mermaid
graph TD
    User["User Question"] --> Router{"Smart Router"}
    Router -->|Simple Query| Tools["Standard Tools (Pandas Wrappers)"]
    Router -->|Complex Logic| CodeGen["Code Interpreter"]
    
    Tools --> Validator{"Judge"}
    CodeGen --> Validator
    
    Validator -->|Success| Answer["Final Answer"]
    Validator -->|Partial| AnswerWarning["Answer + Warning"]
    Validator -->|Fail| Retry["Retry Loop"]
    
    Hash[("Memory")] -.-> CodeGen
    Knowledge[("Knowledge Base")] -.-> CodeGen
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
*   `main.py`: –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –∏ —Ü–∏–∫–ª —á–∞—Ç–∞ (ReAct Loop).
*   `llm.py`: –ú–æ–∑–≥ –∞–≥–µ–Ω—Ç–∞ (LLM Client, Prompts, Verification).
*   `chat_tools.py`: –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∏–∑ 15+ pandas-—Ñ—É–Ω–∫—Ü–∏–π.
*   `safe_executor.py`: –ü–µ—Å–æ—á–Ω–∏—Ü–∞ –¥–ª—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞.
*   `agents/`: –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –ø–∞–π–ø–ª–∞–π–Ω–∞ (Discovery, Analysis –∏ –¥—Ä.).

## üë®‚Äçüíª –ö–æ–Ω—Ç—Ä–∏–±—å—é—Ç–æ—Ä–∞–º
–ü—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –Ω–æ–≤—ã—Ö —Ñ–∏—á —É—á–∏—Ç—ã–≤–∞–π—Ç–µ:
*   **Context Awareness**: –õ—é–±–æ–π –Ω–æ–≤—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω —É–º–µ—Ç—å –ø—Ä–∏–Ω–∏–º–∞—Ç—å `context` (–ø–∞–º—è—Ç—å).
*   **Safety**: –ü–∞–Ω–¥–∞—Å-–∫–æ–¥ –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª–Ω—è—Ç—å—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ `SafeExecutor`.
